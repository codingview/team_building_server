!function(n){function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e={};t.m=n,t.c=e,t.i=function(n){return n},t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s=3)}({3:function(n,t,e){"use strict";var o=void 0,r={catalogs:function(){return new Promise(function(n,t){return $.ajax({url:"/admin/production/catalog",method:"post",dataType:"json",success:function(e){e&&"status"in e&&e.status>0?n(e.data):t("message"in e?e.message:"获取数据出错")},error:function(n){console.error(n),t("请求超时")}})})}},i={addHoverDom:function(n,t){var e=1,r=$("#"+t.tId+"_span"),i=$("#addBtn_"+t.tId);if(t.editNameFlag||i.length>0||2===t.grade)return!1;var a='<span class="button add" id="addBtn_'+t.tId+'" title="增加" onfocus="this.blur();"></span>';r.after(a);var u=$("#addBtn_"+t.tId);u&&u.bind("click",function(){return o.addNodes(t,{id:100+e,pId:t.id,name:"new node"+e++}),!1})},removeHoverDom:function(n,t){return $("#addBtn_"+t.tId).unbind().remove()},catalogs:function(){r.catalogs().then(function(n){return o=$.fn.zTree.init($("#production_catalog"),{view:{addHoverDom:i.addHoverDom,removeHoverDom:i.removeHoverDom,selectedMulti:!1},edit:{enable:!0,removeTitle:"删除",renameTitle:"重命名",showRenameBtn:function(n,t){return!t.noEditBtn},showRemoveBtn:function(n,t){return!t.noEditBtn}}},[{name:"产品分类",open:!0,children:n,noEditBtn:!0}])}).catch(function(n){return alert(n)})},init:function(){this.catalogs()}};$(function(){i.init()})}});