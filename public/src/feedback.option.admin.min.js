!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}({0:function(t,e,n){"use strict";t.exports={processing:"玩命加载中...",lengthMenu:"每页显示 _MENU_ 条",zeroRecords:"没有匹配记录",info:"共计: _TOTAL_ 条 第 _PAGE_ / _PAGES_ 页",infoEmpty:"共计: 0 条 ",infoFiltered:"",infoPostFix:"",search:"搜索:",loadingRecords:"载入中...",url:"",paginate:{first:"首页",previous:"上一页",next:"下一页",last:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}}},1:function(t,e,n){"use strict";(function(){Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"w+":this.getDay(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}})()},9:function(t,e,n){"use strict";n(1);var r=void 0,a={tableInit:function(){return r=$("#feedback_list").DataTable({language:n(0),paginType:"full_numbers",lengthMenu:[[10,25,50],[10,25,50]],searching:!1,ordering:!1,processing:!0,serverSide:!0,autoWidth:!0,stateSave:!0,ajax:{url:"/admin/option/feedback/list",method:"post"},columns:[{title:"序号",width:"2em",data:"fid"},{title:"用户姓名",width:"6em",data:"title"},{title:"用户手机",width:"5em",data:"phone"},{title:"是否已阅",width:"4em",data:"state",render:function(t){return'<label class="label label-'+(0===t?"info":"default")+'">'+(0===t?"未读":"已读")+"</label>"}},{title:"反馈内容",data:"content"},{title:"创建时间",width:"10em",data:"created_at",render:function(t){return new Date(t).format("yyyy-MM-dd hh:mm:ss")}},{title:"修改时间",width:"10em",data:"updated_at",render:function(t){return new Date(t).format("yyyy-MM-dd hh:mm:ss")}},{title:"操作",width:"3em",data:null,render:function(t){return 0===t.state?'<button class="btn btn-primary btn-xs feedback-read" data-fid="'+t.fid+'">已阅</button>':""}}]})},read:function(t){return new Promise(function(e,n){return $.ajax({url:"/admin/option/feedback/read",type:"post",data:{fid:t},dataType:"json",success:function(t){t&&"status"in t&&t.status>0?e():n("message"in t?t.message:"提交已阅出错")},error:function(t){console.error(t),n("提交已阅超时")}})})},listenerInit:function(){$("#feedback_list").on("click",".feedback-read",function(){var t=parseInt($(this).data("fid"));a.read(t).then(function(){r.ajax.reload(),alert("已阅完成")}).catch(function(t){return alert(t)})})}};$(function(){a.tableInit(),a.listenerInit()})}});